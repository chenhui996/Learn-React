# 探 React Hooks

## 前言

- 众所周知，hooks 在 React@16.8 中已经正式发布了;
- hooks 到底好不好用?
- React hooks 在其文档的最开头:
  - 就阐明了 hooks 的一个鲜明作用跟几个动机(或者说 hooks 的好处);

### 明确的作用

- 它可以让你在不编写 class 的情况下:
  - 使用 state 以及其他的 React 特性;

---

- 意思很明了:
  - 就是拓展函数式组件的边界;
- 结果也很清晰:
  - 只要 Class 组件能实现的:
    - 函数式组件+Hooks 都能胜任;

### 动机

- 文档中列了三点:
  - 在组件之间复用状态逻辑很难;
  - 复杂组件变得难以理解;
  - class 让开发人员与计算机都难理解;
- 关于这三点的详细介绍文档里也有，还有中文的，我就不多说了;

### 作者对动机的理解

- 动机也即是 hooks 能带来的好处:
  - 其中第三点:
    - 文档中所说 class 的弊端对于我本人，还是有点儿不痛不痒;
      - this 的问题，箭头函数解决的差不多了;
      - 语法提案也到 stage-3 了;
      - 代码压缩什么的，自己的资源代码大小往往不是核心问题;

---

- 现在说利用 hooks 可以胜任 class 组件所有的能力:
  - 但你胜任归你胜任，我写 class 又有什么不可以?
  - 我继承、高阶骚的一逼，要啥 hooks;

---

- 然而第 1、2 两点还是吸引了我的注意;
  - 状态逻辑的复用:
    - 之前我主要采用高阶组件+继承;
      - 虽然也能解决，但 hooks 似乎有更优雅的方案;
  - 复杂组件变得难以理解:
    - 这个也确实是平常中遇到的问题:
      - 一个组件写着写着状态越来越多;
        - 抽成子组件吧 props 跟 state 又传来传去;
          - 三个月后，自己的代码自己已经看不懂了;

---

- 那 hooks 真的就能更好的解决这些问题么？
  - 文档里轻飘飘的几句话，对于实际业务来说:
    - 确实没有太多体感;
- 于是我决定简单写几个场景，探一探这 hooks 的活到底好不好;

## 状态逻辑的复用